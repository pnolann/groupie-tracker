<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Groupie Tracker - Liste des Artistes</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Special+Gothic+Expanded+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/listStyle.css">
</head>
<body>

    <header class="main-header">
        <h1>Tracker de Tigres</h1>
        <nav>
            <a href="/" class="nav-link">Accueil</a>
        </nav>
    </header>

    <main class="container">
        
        <h2>Nos Tigres</h2>

        <div class="search-container">
            <form action="/artists" method="GET" class="filter-form">
                <div class="search-bar">
                    <input type="text" name="query" placeholder="Rechercher un artiste..." value="{{ .Query }}">
                    <button type="submit">Rechercher / Filtrer</button>
                </div>

                <div class="filters">
                    <div class="filter-group">
                        <span class="filter-label">Année de création :</span>
                        <div class="date-inputs">
                            <input type="number" name="minDate" placeholder="Min (ex: 1990)" min="1950" max="2026">
                            <input type="number" name="maxDate" placeholder="Max (ex: 2026)" min="1950" max="2026">
                        </div>
                    </div>

                    <div class="filter-group">
                        <span class="filter-label">Nombre de membres :</span>
                        <div class="checkboxes">
                            <label><input type="checkbox" name="members" value="1"> 1</label>
                            <label><input type="checkbox" name="members" value="2"> 2</label>
                            <label><input type="checkbox" name="members" value="3"> 3</label>
                            <label><input type="checkbox" name="members" value="4"> 4</label>
                            <label><input type="checkbox" name="members" value="5"> 5</label>
                            <label><input type="checkbox" name="members" value="6"> 6</label>
                            <label><input type="checkbox" name="members" value="7"> 7</label>
                            <label><input type="checkbox" name="members" value="8"> 8+</label>
                        </div>
                    </div>
                </div>
            </form>
        </div>

        <section class="artists-grid" id="artistsGrid">
            {{ range .Artists }}
            <a href="/artist?id={{ .Id }}" class="card-link">
                <div class="artist-card">
                    <div class="image-container">
                        <img src="{{ .Image }}" alt="Image de {{ .Name }}">
                    </div>
                    <div class="card-info">
                        <h3>{{ .Name }}</h3>
                        <p class="meta-info">Création : {{ .CreatedDate }}</p>
                        <p class="meta-info">1er Album : {{ .FirstAlbum }}</p>
                        <p class="meta-info">Membres : {{ len .Members }}</p>
                    </div>
                </div>
            </a>
            {{ end }}
        </section>
    </main>

    <footer class="main-footer">
        <p>&copy; 2026 Groupie Tracker - Projet Scolaire</p>
    </footer>

</body>
</html>